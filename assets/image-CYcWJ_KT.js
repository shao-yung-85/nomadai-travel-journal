const m=(i,a=800,h=.7)=>new Promise((l,c)=>{const n=new FileReader;n.readAsDataURL(i),n.onload=s=>{var d;const e=new Image;e.src=(d=s.target)==null?void 0:d.result,e.onload=()=>{const t=document.createElement("canvas");let o=e.width,r=e.height;o>a&&(r=r*a/o,o=a),t.width=o,t.height=r;const g=t.getContext("2d");g==null||g.drawImage(e,0,0,o,r),l(t.toDataURL("image/jpeg",h))},e.onerror=t=>c(t)},n.onerror=s=>c(s)});export{m as compressImage};
